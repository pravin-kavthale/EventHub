{% extends 'base/base.html' %}
{% block title %}My Events{% endblock title %}
{% block breadcrumb %}My Events{% endblock breadcrumb %}
{% load static %}

{% block content %}
<style>
    body {
        background: #0f0f16;
        font-family: "Inter", sans-serif;
    }

    /* ===== TOP SUMMARY CARDS ===== */
    .summary-card {
        background: #3b3b3b;
        border-radius: 8px;
        padding: 15px 10px; 
        min-height: 180px; 
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;
        color: #d8d8e6;
        transition: 0.25s ease;
        box-shadow: inset 0 0 0 0 rgba(0,0,0,0);
    }
    .summary-card h2 {
        font-size: 42px;
        font-weight: 700;
        margin: 0;
        color: #ffffff;
    }
    .summary-card p {
        font-size: 17px;
        margin-top: 6px;
        font-weight: 600;
    }
    .summary-card.highlight {
        background: #7e5fdc !important;
        color: #fff !important;
        box-shadow: inset 0 0 12px rgba(255,255,255,0.22);
    }
    
</style>

<div class="container mt-4">

    <!-- TOP SUMMARY CARDS -->
    <div class="row g-4 mb-4">

        <div class="col-md-3">
            <a href="{% url 'my_events' %}" class="text-decoration-none">
                <div class="summary-card {% if current_status == 'all' or not current_status %}highlight{% endif %}">
                    <p>All Events</p>
                    <h2>{{ total_events }}</h2>
                </div>
            </a>
        </div>

        <div class="col-md-3">
            <a href="?status=ongoing" class="text-decoration-none">
                <div class="summary-card {% if current_status == 'ongoing' %}highlight{% endif %}">
                    <p>Ongoing</p>
                    <h2>{{ ongoing_events_count }}</h2>
                </div>
            </a>
        </div>

        <div class="col-md-3">
            <a href="?status=upcoming" class="text-decoration-none">
                <div class="summary-card {% if current_status == 'upcoming' %}highlight{% endif %}">
                    <p>Upcoming</p>
                    <h2>{{ upcoming_events_count }}</h2>
                </div>
            </a>
        </div>

        <div class="col-md-3">
            <a href="?status=completed" class="text-decoration-none">
                <div class="summary-card {% if current_status == 'completed' %}highlight{% endif %}">
                    <p>Completed</p>
                    <h2>{{ completed_events_count }}</h2>
                </div>
            </a>
        </div>

    </div>

    <!-- EVENT CARDS -->
    <div class="row g-4">
        {% for event in events %}
            {% include "Event/event_card.html" %}
        {% empty %}
        <div class="col-12 text-center">
            <div class="alert alert-info">
                <i class="fas fa-info-circle me-1"></i> No events found.
            </div>
        </div>
        {% endfor %}
    </div>


</div>
<script src="{% static 'js/event_report.js' %}"></script>
{% endblock content %}
