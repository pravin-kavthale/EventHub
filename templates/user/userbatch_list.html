{% extends 'base/base.html' %}
{% block title %}My Batches{% endblock title %}
{% block breadcrumb %}My Batches{% endblock breadcrumb %}

{% block content %}
<div class="container-fluid py-5 batch-display-container">

    {% if user_batches %}
    {# Changed row to use a custom modern grid class #}
    <div class="modern-batch-grid">
        {% for ub in user_batches %}
        {# Outputting the image directly with the new modern class #}
        <img src="{{ ub.batch.image.url }}" alt="{{ ub.batch.name }}" class="batch-image-modern">
        {% endfor %}
    </div>
    {% else %}
    {# Updated alert for better contrast on a dark background #}
    <div class="alert alert-dark text-center alert-no-batches">
        You haven't earned any batches yet.
    </div>
    {% endif %}

</div>

<style>
/* 1. Set a dark background for the content area to make the batches stand out */
.batch-display-container {
    /* Deep charcoal gray background (Hex: #212529) */
    background-color: #212529; 
    min-height: 100vh;
    padding-top: 50px !important;
    padding-bottom: 50px !important;
    border-radius: 8px; /* Subtle modern rounding */
}

/* Ensure the main body background doesn't interfere */
body {
    background-color: #f4f6f9 !important; 
}

/* 2. Modern CSS Grid Layout */
.modern-batch-grid {
    display: grid;
    /* Responsive columns: minimum size 150px, adjust to fit */
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
    justify-items: center;
    gap: 40px; 
    padding: 20px;
}

/* 3. Modern Image Styling - Clean and Ready to Glow */
.batch-image-modern {
    width: 150px; 
    height: 150px;
    object-fit: contain; 
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
    
    /* Ensure the badge itself is the focus, no extra borders */
    border-radius: 0; 
}

/* 4. Enhanced Modern Hover Effect (Subtle 3D Lift and Glow) */
.batch-image-modern:hover {
    transform: scale(1.15) translateY(-5px); /* Lift and zoom */
    
    /* Soft white/blue glow effect */
    box-shadow: 0 5px 15px rgba(255, 255, 255, 0.4), 
                0 0 5px rgba(0, 191, 255, 0.6); 
    z-index: 10;
}

/* 5. Styling the Alert Message */
.alert-no-batches {
    background-color: #343a40 !important; /* Darker than container background */
    color: #fff !important;
    border: 1px solid #495057 !important;
}

</style>
{% endblock content %}